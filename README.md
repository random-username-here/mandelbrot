![ะะฐะฝะดะตะปัะฑัะพั](result.png)

# ะััััะพะต ะฒััะธัะปะตะฝะธะต ะผะฝะพะถะตััะฒะฐ ะะฐะฝะดะตะปัะฑัะพัะฐ

ะะดะตัั ัะตะฐะปะธะทะพะฒะฐะฝะพ ััะธ ะฒะฐัะธะฐะฝัะฐ -- ะฟัะพััะพะน, ั AVX ะธ ั AVX2.
ะะฝะพะถะตััะฒะพ ััะธัะฐะตััั ะฝะฐ `float`-ะฐั.

 - ะัะพััะพะน: [`gen/simple.c`](gen/simple.c)
 - AVX: [`gen/avx.c`](gen/avx.c)
 - AVX2: [`gen/avx2.c`](gen/avx2.c)

## ะะพะผะฟะธะปััะธั

```bash
$ cd viewer
$ make
$ ./viewer
```

ะะฟัะธะธ:

 - `-b NUM_RUNS`: ะะฐะฟััะบะฐะตะผ ะทะฐะผะตั ะฒัะตะผะตะฝะธ, ะดะตะปะฐะตะผ `NUM_RUNS` ะธะทะผะตัะตะฝะธะน.
 - `-s NUM_START`: ะัะพะฒะพะดะธะผ ะฒััะธัะปะตะฝะธะต `NUM_START` ัะฐะท ะดะพ ะฝะฐัะฐะปะฐ ะทะฐะผะตัะฐ,
   ััะพะฑั ะฟัะพะณัะตัั ะฟัะพัะตััะพั, ัะพััะฐะฒะธัั ะฒะตัะพััะฝะพััะธ ะฒะตัะพะบ, ะทะฐะณััะทะธัั ะบััะธ ะธ ะฟัะพัะตะต.
 - `-o N`: ะัะฑะธัะฐะตะผ ะพะฟัะธะผะธะทะฐัะธะธ: `0` ััะพ ะฑะฐะทะพะฒะฐั ะฒะตััะธั, `1` ััะพ AVX, `2` ััะพ AVX2.

ะะตะท `-b` ะพัะบััะฒะฐะตััั ะพะบะฝะพ ั ะฟัะพัะผะพัััะธะบะพะผ.

## ะะตะทัะปััะฐัั

ะะฐะผะตัั ะฟัะพะธะทะฒะพะดะธะปะธัั ะฟัะธ ะฒัะบะปััะตะฝะฝะพะผ ัะฝะตัะณะพัะฑะตัะตะถะตะฝะธะธ,
ะฑะตะท ะทะฐะฟััะตะฝะฝะพะณะพ ะณัะฐัะธัะตัะบะพะณะพ ะพะบััะถะตะฝะธั.

ะกัะธัะฐะปะพัั ะธะทะพะฑัะฐะถะตะฝะธะต ัะฐะทะผะตัะฐ `1024 x 768`, ั ัะตะฝััะพะผ `(0, 0)` ะธ ัะธัะธะฝะพะน ะพะบะฝะฐ `2`.
ะขะพ, ััะพ ะฒ ะฝะตะณะพ ะฟะพะฟะฐะดะฐะตั ะฒะธะดะฝะพ ะฝะฐ ะธะทะพะฑัะฐะถะตะฝะธะธ ัะฒะตััั.

### ะะฐะทะพะฒะฐั ะฒะตััะธั

```bash
$ ./viewer -b 32 -s 4
```

```
Done 4 warmup runs and 32 measurment runs
Time avg 361.424561 ms, std dev 0.197642 ms
With ๐ (68% probability) time is 361.424561 ยฑ 0.197642 ms
With 3๐ (99.73% probability) time is 361.424561 ยฑ 0.592927 ms
Have 0 outliers
Non-outlier runs are withn 0.301๐, outliers (>3๐) are withn 0.000๐
```

ะัะพะณะพ, ะพะดะฝะฐ `361.42 ยฑ 0.59 ms`.

### ะก ะธะฝััะธะฝัะธะบะฐะผะธ AVX

```bash
$ ./viewer -o 1 -b 128 -s 16
```

```
Done 16 warmup runs and 128 measurment runs
Time avg 73.209534 ms, std dev 0.022097 ms
With ๐ (68% probability) time is 73.209534 ยฑ 0.022097 ms
With 3๐ (99.73% probability) time is 73.209534 ยฑ 0.066291 ms
Have 0 outliers
Non-outlier runs are withn 1.650๐, outliers (>3๐) are withn 0.000๐
```

ะะพะปััะธะปะธ `73.21 ยฑ 0.07 ms`

### ะก ะธะฝััะธะฝัะธะบะฐะผะธ AVX2

```bash
$ ./viewer -o 2 -b 128 -s 16
```

```
Done 16 warmup runs and 128 measurment runs
Time avg 48.793472 ms, std dev 0.044194 ms
With ๐ (68% probability) time is 48.793472 ยฑ 0.044194 ms
With 3๐ (99.73% probability) time is 48.793472 ยฑ 0.132583 ms
Have 0 outliers
Non-outlier runs are withn 0.600๐, outliers (>3๐) are withn 0.000๐
```

ะัะพะณะพ, `48.79 ยฑ 0.13 ms`.

## ะะตะทัะปััะฐั

ะัะธ AVX ััะบะพัะตะฝะธะต ะฒ ~ `4.93` ัะฐะทะฐ, ะฟัะธ AVX2 ะฒ ~ `7.41` ัะฐะทะฐ.
