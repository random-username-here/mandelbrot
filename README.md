![ĞœĞ°Ğ½Ğ´ĞµĞ»ÑŒĞ±Ñ€Ğ¾Ñ‚](result.png)

# Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ° ĞœĞ°Ğ½Ğ´ĞµĞ»ÑŒĞ±Ñ€Ğ¾Ñ‚Ğ°

Ğ—Ğ´ĞµÑÑŒ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ñ‚Ñ€Ğ¸ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ° -- Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹, Ñ AVX Ğ¸ Ñ AVX2.
ĞœĞ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° `float`-Ğ°Ñ….

 - ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹: [`gen/simple.c`](gen/simple.c)
 - AVX: [`gen/avx.c`](gen/avx.c)
 - AVX2: [`gen/avx2.c`](gen/avx2.c)

## ĞšĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ñ

```bash
$ cd viewer
$ make
$ ./viewer
```

ĞĞ¿Ñ†Ğ¸Ğ¸:

 - `-b NUM_RUNS`: Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ·Ğ°Ğ¼ĞµÑ€ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸, Ğ´ĞµĞ»Ğ°ĞµĞ¼ `NUM_RUNS` Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹.
 - `-f NUM`: Ğ”Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ğ°Ñ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ğ¸ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¸Ğ·Ğ½Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¼.
    ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ `1.01` Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ±Ñ‹Ğ»Ğ¾ Ğ² `1.01` Ñ€Ğ°Ğ·Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞµ, Ñ‡ĞµĞ¼ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ.
 - `-o N`: Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸: `0` ÑÑ‚Ğ¾ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ, `1` ÑÑ‚Ğ¾ AVX, `2` ÑÑ‚Ğ¾ AVX2.

Ğ‘ĞµĞ· `-b` Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¾ĞºĞ½Ğ¾ Ñ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ñ‰Ğ¸ĞºĞ¾Ğ¼.

## Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹

Ğ—Ğ°Ğ¼ĞµÑ€Ñ‹ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ğ»Ğ¸ÑÑŒ Ğ¿Ñ€Ğ¸ Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ğ¾Ğ¼ ÑĞ½ĞµÑ€Ğ³Ğ¾ÑĞ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¸Ğ¸,
Ğ±ĞµĞ· Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ. Ğ’ÑĞµ Ğ·Ğ°Ğ¼ĞµÑ€Ñ‹ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞ»Ğ¸ÑÑŒ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾.

Ğ¡Ñ‡Ğ¸Ñ‚Ğ°Ğ»Ğ¾ÑÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° `1024 x 768`, Ñ Ñ†ĞµĞ½Ñ‚Ñ€Ğ¾Ğ¼ `(0, 0)` Ğ¸ ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ¾Ğ¹ Ğ¾ĞºĞ½Ğ° `2`.
Ğ¢Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ² Ğ½ĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ğ²Ğ¸Ğ´Ğ½Ğ¾ Ğ½Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¸ ÑĞ²ĞµÑ€Ñ…Ñƒ.

### Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ

```bash
$ ./viewer -b 32 -f 1.0005
```

```
Done 69 warmup runs and 32 measurment runs
Time avg 361.158966 ms, std dev 0.009283 ms
With ğœ (68% probability) time is 361.158966 Â± 0.009283 ms
With 3ğœ (99.73% probability) time is 361.158966 Â± 0.027849 ms
Have 0 outliers
Non-outlier runs are withn 2.689ğœ, outliers (>3ğœ) are withn 0.000ğœ
```

Ğ˜Ñ‚Ğ¾Ğ³Ğ¾, Ğ¾Ğ´Ğ½Ğ° `361.158 Â± 0.028 ms`.

### Ğ¡ Ğ¸Ğ½Ñ‚Ñ€Ğ¸Ğ½ÑĞ¸ĞºĞ°Ğ¼Ğ¸ AVX

```bash
$ ./viewer -o 1 -b 32 -f 1.0001
```

```
Done 232 warmup runs and 32 measurment runs
Time avg 94.978943 ms, std dev 0.002179 ms
With ğœ (68% probability) time is 94.978943 Â± 0.002179 ms
With 3ğœ (99.73% probability) time is 94.978943 Â± 0.006538 ms
Have 0 outliers
Non-outlier runs are withn 2.321ğœ, outliers (>3ğœ) are withn 0.000ğœ
```

ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ¸ `94.978 Â± 0.007 ms`

### Ğ¡ Ğ¸Ğ½Ñ‚Ñ€Ğ¸Ğ½ÑĞ¸ĞºĞ°Ğ¼Ğ¸ AVX2

```bash
$ ./viewer -o 2 -b 32 -f 1.0005
```

```
Done 25 warmup runs and 32 measurment runs
Time avg 48.829254 ms, std dev 0.003518 ms
With ğœ (68% probability) time is 48.829254 Â± 0.003518 ms
With 3ğœ (99.73% probability) time is 48.829254 Â± 0.010553 ms
Warn: Run 10 has distance to center 3.338882ğœ
Warn: Run 25 has distance to center 3.054768ğœ
Have 2 outliers
```

Ğ˜Ñ‚Ğ¾Ğ³Ğ¾, `48.82 Â± 0.01 ms`.

## Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

ĞŸÑ€Ğ¸ AVX ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ Ğ² ~ `3.8` Ñ€Ğ°Ğ·Ğ°, Ğ¿Ñ€Ğ¸ AVX2 Ğ² ~ `7.4` Ñ€Ğ°Ğ·Ğ°.
