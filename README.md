![ะะฐะฝะดะตะปัะฑัะพั](result.png)

# ะััััะพะต ะฒััะธัะปะตะฝะธะต ะผะฝะพะถะตััะฒะฐ ะะฐะฝะดะตะปัะฑัะพัะฐ

ะะดะตัั ัะตะฐะปะธะทะพะฒะฐะฝะพ ััะธ ะฒะฐัะธะฐะฝัะฐ -- ะฟัะพััะพะน, ั AVX ะธ ั AVX2.
ะะฝะพะถะตััะฒะพ ััะธัะฐะตััั ะฝะฐ `float`-ะฐั.

 - ะัะพััะพะน: [`gen/simple.c`](gen/simple.c)
 - AVX: [`gen/avx.c`](gen/avx.c)
 - AVX2: [`gen/avx2.c`](gen/avx2.c)

## ะะพะผะฟะธะปััะธั

```bash
$ cd viewer
$ make
$ ./viewer
```

ะะฟัะธะธ:

 - `-b NUM_RUNS`: ะะฐะฟััะบะฐะตะผ ะทะฐะผะตั ะฒัะตะผะตะฝะธ, ะดะตะปะฐะตะผ `NUM_RUNS` ะธะทะผะตัะตะฝะธะน.
 - `-s NUM_START`: ะัะพะฒะพะดะธะผ ะฒััะธัะปะตะฝะธะต `NUM_START` ัะฐะท ะดะพ ะฝะฐัะฐะปะฐ ะทะฐะผะตัะฐ,
   ััะพะฑั ะฟัะพะณัะตัั ะฟัะพัะตััะพั, ัะพััะฐะฒะธัั ะฒะตัะพััะฝะพััะธ ะฒะตัะพะบ, ะทะฐะณััะทะธัั ะบััะธ ะธ ะฟัะพัะตะต.
 - `-o N`: ะัะฑะธัะฐะตะผ ะพะฟัะธะผะธะทะฐัะธะธ: `0` ััะพ ะฑะฐะทะพะฒะฐั ะฒะตััะธั, `1` ััะพ AVX, `2` ััะพ AVX2.

ะะตะท `-b` ะพัะบััะฒะฐะตััั ะพะบะฝะพ ั ะฟัะพัะผะพัััะธะบะพะผ.

## ะะตะทัะปััะฐัั

ะะฐะผะตัั ะฟัะพะธะทะฒะพะดะธะปะธัั ะฟัะธ ะฒัะบะปััะตะฝะฝะพะผ ัะฝะตัะณะพัะฑะตัะตะถะตะฝะธะธ,
ะฑะตะท ะทะฐะฟััะตะฝะฝะพะณะพ ะณัะฐัะธัะตัะบะพะณะพ ะพะบััะถะตะฝะธั.

ะกัะธัะฐะปะพัั ะธะทะพะฑัะฐะถะตะฝะธะต ัะฐะทะผะตัะฐ `1024 x 768`, ั ัะตะฝััะพะผ `(0, 0)` ะธ ัะธัะธะฝะพะน ะพะบะฝะฐ `2`.
ะขะพ, ััะพ ะฒ ะฝะตะณะพ ะฟะพะฟะฐะดะฐะตั ะฒะธะดะฝะพ ะฝะฐ ะธะทะพะฑัะฐะถะตะฝะธะธ ัะฒะตััั.

### ะะฐะทะพะฒะฐั ะฒะตััะธั

```bash
$ ./viewer -b 64 -s 8
```

```
Done 8 warmup runs and 64 measurment runs
Time avg 361.370697 ms, std dev 0.153093 ms
With ๐ (68% probability) time is 361.370697 ยฑ 0.153093 ms
With 3๐ (99.73% probability) time is 361.370697 ยฑ 0.459279 ms
Have 0 outliers
Non-outlier runs are withn 1.988๐, outliers (>3๐) are withn 0.000๐
```

ะัะพะณะพ, ะพะดะฝะฐ `361.37 ยฑ 0.46 ms`.

### ะก ะธะฝััะธะฝัะธะบะฐะผะธ AVX

```bash
$ ./viewer -o 1 -b 64 -s 8
```

```
Done 8 warmup runs and 64 measurment runs
Time avg 94.805061 ms, std dev 0.227503 ms
With ๐ (68% probability) time is 94.805061 ยฑ 0.227503 ms
With 3๐ (99.73% probability) time is 94.805061 ยฑ 0.682510 ms
Have 0 outliers
Non-outlier runs are withn 1.886๐, outliers (>3๐) are withn 0.000๐
```

ะะพะปััะธะปะธ `94.80 ยฑ 0.68 ms`

### ะก ะธะฝััะธะฝัะธะบะฐะผะธ AVX2

```bash
$ ./viewer -o 2 -b 64 -s 8
```

```
Done 8 warmup runs and 64 measurment runs
Time avg 48.751766 ms, std dev 0.049411 ms
With ๐ (68% probability) time is 48.751766 ยฑ 0.049411 ms
With 3๐ (99.73% probability) time is 48.751766 ยฑ 0.148232 ms
Have 0 outliers
Non-outlier runs are withn 1.594๐, outliers (>3๐) are withn 0.000๐
```

ะัะพะณะพ, `48.75 ยฑ 0.15 ms`.

## ะะตะทัะปััะฐั

ะัะธ AVX ััะบะพัะตะฝะธะต ะฒ ~ `3.8` ัะฐะทะฐ, ะฟัะธ AVX2 ะฒ ~ `7.4` ัะฐะทะฐ.
