![–ú–∞–Ω–¥–µ–ª—å–±—Ä–æ—Ç](result.png)

# –ë—ã—Å—Ç—Ä–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ú–∞–Ω–¥–µ–ª—å–±—Ä–æ—Ç–∞

–î–∞–Ω–Ω–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è –ø–æ—Å–≤—è—â–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—è 
–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ú–∞–Ω–¥–µ–ª—å–±—Ä–æ—Ç–∞ –Ω–∞ C. –ß—Ç–æ –∏ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ.

–ó–¥–µ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ -- –ø—Ä–æ—Å—Ç–æ–π, —Å AVX –∏ —Å AVX2.
–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞ `float`-–∞—Ö.

 - –ü—Ä–æ—Å—Ç–æ–π: [`gen/simple.c`](gen/simple.c)
 - AVX: [`gen/avx.c`](gen/avx.c)
 - AVX2: [`gen/avx2.c`](gen/avx2.c)

–ï—Å—Ç—å –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã -- —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–∞ –∏ —Ä–µ–∂–∏–º –∏–∑–º–µ—Ä–µ–Ω–∏—è.

## –ö–æ–º–ø–∏–ª—è—Ü–∏—è

–î–ª—è –∫–æ–º–ø–∏–ª–∞—è—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è `SDL2` (–ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫) –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–∞
`x86-64`, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `AVX2`, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —ç—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å—Å—è.

–ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —Ç–∞–∫:
```bash
$ cd viewer
$ make
$ ./viewer # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫
```

### –ó–∞–ø—É—Å–∫

–¢–∞–∫ —Å–ª—É—á–∏–ª–æ—Å—å, —á—Ç–æ –æ–±–∞ —Ä–µ–∂–∏–º–∞ –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ –æ–¥–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è
`viewer`. –û–Ω–∞ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø—Ü–∏–π:

 - `-b NUM_RUNS`: –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏, –¥–µ–ª–∞–µ–º `NUM_RUNS` –∏–∑–º–µ—Ä–µ–Ω–∏–π.
 - `-f NUM`: –î–æ–ø—É—Å—Ç–∏–º–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –º–∞–∫—Å–∏–º—É–º –∏ –º–∏–Ω–∏–º—É–º –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã –ø—Ä–∏–∑–Ω–∞—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º.
    –ù–∞–ø—Ä–∏–º–µ—Ä `1.01` –¥–æ–ø—É—Å—Ç–∏—Ç, —á—Ç–æ–±—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –±—ã–ª–æ –≤ `1.01` —Ä–∞–∑–∞ –±–æ–ª—å—à–µ, —á–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ.
 - `-o N`: –í—ã–±–∏—Ä–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: `0` —ç—Ç–æ –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è, `1` —ç—Ç–æ AVX, `2` —ç—Ç–æ AVX2.

–ë–µ–∑ `-b` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ —Å –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–æ–º.

### –ü—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫

–î–≤–∏–≥–∞—Ç—å—Å—è –º–æ–∂–Ω–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏, `PgUp` –∏ `PgDown` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç/—É–º–µ–Ω—å—à–∞–µ—Ç –º–∞—Å—à—Ç–∞–±.

## –ò–∑–º–µ—Ä–µ–Ω–∏—è

### –ö–∞–∫ –∏–∑–º–µ—Ä—è–ª–æ—Å—å

–ó–∞–º–µ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–∏—Å—å –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–∏,
–±–µ–∑ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –í—Å–µ –∑–∞–º–µ—Ä—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
–í—ã–ø–æ–ª–Ω—è–ª–æ—Å—å –≤—Å—ë –Ω–∞ `Intel(R) Core(TM) i5-8350U (8) @ 3.60 GHz`.

–°—á–∏—Ç–∞–ª–æ—Å—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ `1024 x 768`, —Å —Ü–µ–Ω—Ç—Ä–æ–º `(0, 0)` –∏ —à–∏—Ä–∏–Ω–æ–π –æ–∫–Ω–∞ `2`.
–¢–æ, —á—Ç–æ –≤ –Ω–µ–≥–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤–∏–¥–Ω–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å–≤–µ—Ä—Ö—É.

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —ç—Ç–æ `./benchmark.sh`

–õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `res/[...].log`, –≥–¥–µ `[...]` - —É—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

### –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è

```
Done 1 warmup runs and 128 measurment runs
Time avg 361.499939 ms, std dev 0.083247 ms
With ùúé (68% probability) time is 361.499939 ¬± 0.083247 ms
With 3ùúé (99.73% probability) time is 361.499939 ¬± 0.249741 ms
Warn: Run 57 has distance to center 5.248845ùúé
Warn: Run 84 has distance to center 4.515664ùúé
Warn: Run 85 has distance to center 5.224650ùúé
Warn: Run 86 has distance to center 4.431715ùúé
Have 4 outliers
Non-outlier runs are withn 2.102ùúé, outliers (>3ùúé) are withn 5.249ùúé
Warn: Some values are out 3ùúé, but there are a few of them

Distribution plot:
One tick = one std. dev = 0.083247 ms

                                                                        #                                                          
                                                                        ##                                                         
                                                                        ##                                                         
                                                                   ### ###                                                         
                                                                   ########                                                        
                                            #                     #########                                                        
                                #     #    ###          # ##   #  ######### #  #  #                                                
-+---------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+-> time
                                                                 | avg = 361.499939 ms
```

–ò—Ç–æ–≥–æ, –æ–¥–Ω–∞ `361.5 ¬± 0.3 ms`.

### –° –∏–Ω—Ç—Ä–∏–Ω—Å–∏–∫–∞–º–∏ AVX

```

Done 289 warmup runs and 128 measurment runs
Time avg 95.045975 ms, std dev 0.025258 ms
With ùúé (68% probability) time is 95.045975 ¬± 0.025258 ms
With 3ùúé (99.73% probability) time is 95.045975 ¬± 0.075774 ms
Warn: Run 34 has distance to center 4.749848ùúé
Have 1 outliers
Non-outlier runs are withn 2.137ùúé, outliers (>3ùúé) are withn 4.750ùúé
Warn: Some values are out 3ùúé, but there are a few of them

Distribution plot:
One tick = one std. dev = 0.025258 ms

                                                               # #          #  # #                                                 
                                                               ### #        #  # #                                                 
                                                               #####  #     #  # #  #                                              
                                           #                   ########     #  # ## #                                              
                                  #        #                # ##########    #  # ## #                                              
                                # #    #  ### #             ############# # #### ## #     #                                        
                                ###### #  ### ##           ##################### ######## #                                        
-+---------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+-> time
                                                                 | avg = 95.045975 ms
```

–ü–æ–ª—É—á–∏–ª–∏ `95.04 ¬± 0.08 ms`

### –° –∏–Ω—Ç—Ä–∏–Ω—Å–∏–∫–∞–º–∏ AVX2

```

Done 5 warmup runs and 128 measurment runs
Time avg 48.780865 ms, std dev 0.016546 ms
With ùúé (68% probability) time is 48.780865 ¬± 0.016546 ms
With 3ùúé (99.73% probability) time is 48.780865 ¬± 0.049638 ms
Warn: Run 6 has distance to center 6.458685ùúé
Warn: Run 7 has distance to center 6.398280ùúé
Have 2 outliers
Non-outlier runs are withn 2.470ùúé, outliers (>3ùúé) are withn 6.459ùúé
Warn: Some values are out 3ùúé, but there are a few of them

Distribution plot:
One tick = one std. dev = 0.016546 ms

                                                                       #                                                           
                                                                      ##                                                           
                                                                      ##                                                           
                                                                     ####                                                          
                                                                     #####                                                         
                                                #                    ######                                                        
                          #                # ###### ##             ###########               #                                     
-+---------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+-> time
                                                                 | avg = 48.780865 ms
```

–ò—Ç–æ–≥–æ, `48.78 ¬± 0.05 ms`.

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏ AVX —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ ~ `3.8` —Ä–∞–∑–∞, –ø—Ä–∏ AVX2 –≤ ~ `7.4` —Ä–∞–∑–∞.
